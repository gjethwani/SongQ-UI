[{"/Users/gautamjethwani/Documents/songq-ui/src/reportWebVitals.js":"1","/Users/gautamjethwani/Documents/songq-ui/src/App.js":"2","/Users/gautamjethwani/Documents/songq-ui/src/index.js":"3","/Users/gautamjethwani/Documents/songq-ui/src/Login/index.js":"4","/Users/gautamjethwani/Documents/songq-ui/src/Login/Login.js":"5","/Users/gautamjethwani/Documents/songq-ui/src/Home/index.js":"6","/Users/gautamjethwani/Documents/songq-ui/src/Home/Home.js":"7","/Users/gautamjethwani/Documents/songq-ui/src/GuestLogin/index.js":"8","/Users/gautamjethwani/Documents/songq-ui/src/GuestLogin/GuestLogin.js":"9","/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/index.js":"10","/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/GuestHome.js":"11","/Users/gautamjethwani/Documents/songq-ui/src/util.js":"12"},{"size":362,"mtime":1609565627382,"results":"13","hashOfConfig":"14"},{"size":966,"mtime":1609824836995,"results":"15","hashOfConfig":"14"},{"size":500,"mtime":1609565627382,"results":"16","hashOfConfig":"14"},{"size":48,"mtime":1609566008982,"results":"17","hashOfConfig":"14"},{"size":593,"mtime":1609650066022,"results":"18","hashOfConfig":"14"},{"size":45,"mtime":1609568096052,"results":"19","hashOfConfig":"14"},{"size":7447,"mtime":1609822138501,"results":"20","hashOfConfig":"14"},{"size":63,"mtime":1609614457090,"results":"21","hashOfConfig":"14"},{"size":1155,"mtime":1609821774637,"results":"22","hashOfConfig":"14"},{"size":60,"mtime":1609615551780,"results":"23","hashOfConfig":"14"},{"size":4129,"mtime":1609821755471,"results":"24","hashOfConfig":"14"},{"size":381,"mtime":1609824792576,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"a60gbr",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/gautamjethwani/Documents/songq-ui/src/reportWebVitals.js",[],["52","53"],"/Users/gautamjethwani/Documents/songq-ui/src/App.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Login/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Login/Login.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Home/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Home/Home.js",["54"],"import { useEffect } from 'react'\nimport {\n    extraContainer,\n    checkButton,\n    header,\n    queueActivatedText\n} from './Home.module.css'\nimport { \n    PageHeader, \n    Switch, \n    Table, \n    List, \n    Button, \n    notification, \n    Menu, \n    Dropdown\n} from 'antd'\nimport { DownOutlined } from '@ant-design/icons'\nimport 'antd/dist/antd.css'\nimport axios from 'axios'\nimport { getURL } from '../util'\nimport { useState } from 'react'\n\nconst Home = () => {\n    const [userId, setUserId] = useState(null)\n    const [queueActivated, setQueueActivated] = useState(false)\n    const [code, setCode] = useState('')\n    const [requests, setRequests] = useState([])\n    const [userName, setUserName] = useState('')\n    const errorHandle = err => {\n        if (err.response) {\n            if (err.response.status) {\n                if (err.response.status === 401) {\n                    window.location.href = '/login'\n                } else {\n                    notification['error']({\n                        message: 'Server Error',\n                        description: 'Please try again later'\n                    })\n                }\n            } else {\n                notification['error']({\n                    message: 'Server Error',\n                    description: 'Please try again later'\n                })\n            }\n        } else {\n            notification['error']({\n                message: 'Server Error',\n                description: 'Please try again later'\n            })\n        }\n    }\n    useEffect(() => {\n        axios.get(`${getURL()}/get-user-details`, { withCredentials: true })\n            .then(response => {\n                const { user } = response.data\n                setQueueActivated(user.queueActivated)\n                setCode(user.code)\n                setUserId(user.userId)\n                setRequests(user.requests)\n                setUserName(user.name)\n            })\n            .catch(err => {\n                errorHandle(err)\n                console.log(err)\n            })\n    }, [queueActivated])\n    const onCheckedButtonChange = activated => {\n        axios.patch(`${getURL()}/change-queue-activation`, { userId, activated }, { withCredentials: true })\n            .then(() => {\n                setQueueActivated(activated)\n            })\n            .catch(err => {\n                errorHandle(err)\n                console.log(err.response)\n            })\n    }\n    const generateData = () => {\n        const result = []\n        let i = 1\n        requests.forEach(r => {\n            result.push({\n                key: `${i}`,\n                track: {\n                    songName: r.songName,\n                    albumArt: r.albumArt,\n                    artists: r.artists\n                },\n                approveOrReject: r._id\n            })\n            i++\n        })\n        return result\n    }\n    const approveReject = (requestId, accepted) => {\n        axios.post(`${getURL()}/service-request`, { requestId, accepted }, { withCredentials: true })\n            .catch((err) => {\n                if (err.response) {\n                    if (err.response.data) {\n                        if (err.response.data.err && err.response.data.err === 'no queue') {\n                            notification['error']({\n                                message: 'No queue found',\n                                description: 'Please make sure your queue is active'\n                            })\n                        }\n                    }\n                }\n                errorHandle(err)\n                console.log(err.response)\n            })\n    }\n    const sortAlphabetically = (e1, e2, key) => {\n        if(e1[key] < e2[key]) { return -1 }\n        if(e1[key] > e2[key]) { return 1 }\n        return 0\n    }\n    const sortDate = (e1, e2, key) => {\n        return new Date(e1[key]) - new Date(e2[key])\n    }\n    const sortBy = sortKey => {\n        let sortComparator\n        switch (sortKey) {\n            case 'newest':\n                sortComparator = (r1, r2) => {\n                    return sortDate(r1, r2, 'createdAt')\n                }\n                break\n            case 'oldest':\n                sortComparator = (r1, r2) => {\n                    return sortDate(r2, r1, 'createdAt')\n                }\n                break\n            case 'title':\n                sortComparator = (r1, r2) => {\n                    return sortAlphabetically(r1, r2, 'songName')\n                }\n                break\n            case 'artists':\n                sortComparator = (r1, r2) => {\n                    return sortAlphabetically(r1, r2, 'artists')\n                }\n                break\n            default:\n                sortComparator = () => 0\n        }\n        const newRequests = requests.sort(sortComparator)\n        setRequests([...newRequests])\n    }\n    const columns = [\n        {\n            title: 'Track',\n            dataIndex: 'track',\n            key: 'track',\n            width: '70%',\n            render: track => (\n                <List.Item>\n                    <List.Item.Meta \n                        avatar={<img alt='album art' src={track.albumArt} style={{ width: '64px' }}/>}\n                        title={track.songName}\n                        description={track.artists}\n                    />\n                </List.Item>\n            ),\n        },\n        {\n            title: 'Approve Or Reject',\n            dataIndex: 'approveOrReject',\n            key: 'approveOrReject',\n            render: requestId => (\n                <div>\n                    <Button style={{ \n                        color: 'green', \n                        borderColor: 'green', \n                        marginRight: '0.5rem' \n                    }} onClick={() => approveReject(requestId, true)}>Approve</Button>\n                    <Button danger onClick={() => approveReject(requestId, false)}>Reject</Button>\n                </div>\n            )\n        }\n    ]\n    const sortMenu = (\n        <Menu>\n            <Menu.Item onClick={() => sortBy('newest')}>\n                <p>Newest First</p>\n            </Menu.Item>\n            <Menu.Item onClick={() => sortBy('oldest')}>\n                <p>Oldest First</p>\n            </Menu.Item>\n            <Menu.Item onClick={() => sortBy('title')}>\n                <p>Title</p>\n            </Menu.Item>\n            <Menu.Item onClick={() => sortBy('artists')}>\n                <p>Artists</p>\n            </Menu.Item>\n        </Menu>\n    )\n    return (\n        <div>\n            <PageHeader\n                title={(userName !== '' && userName !== undefined) ? `Welcome, ${userName}!` : `Welcome!`}\n                className={header}\n                extra={[\n                    <div className={extraContainer}>\n                        <p className={queueActivatedText}>{queueActivated ? `Code: ${code}` : `Queue Disabled`}</p>\n                        <Switch \n                            checked={queueActivated} \n                            className={checkButton} \n                            onChange={onCheckedButtonChange} />\n                    </div>\n                ]}\n            />\n            <Dropdown overlay={sortMenu}>\n                <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\n                    Sort By <DownOutlined />\n                </a>\n            </Dropdown>\n            <Table columns={columns} dataSource={generateData()} />\n        </div>\n    )\n}\n\nexport default Home\n","/Users/gautamjethwani/Documents/songq-ui/src/GuestLogin/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/GuestLogin/GuestLogin.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/GuestHome.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/util.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":214,"column":17,"nodeType":"61","endLine":214,"endColumn":84},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation"]