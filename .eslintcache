[{"/Users/gautamjethwani/Documents/songq-ui/src/reportWebVitals.js":"1","/Users/gautamjethwani/Documents/songq-ui/src/App.js":"2","/Users/gautamjethwani/Documents/songq-ui/src/index.js":"3","/Users/gautamjethwani/Documents/songq-ui/src/Login/index.js":"4","/Users/gautamjethwani/Documents/songq-ui/src/Login/Login.js":"5","/Users/gautamjethwani/Documents/songq-ui/src/Home/index.js":"6","/Users/gautamjethwani/Documents/songq-ui/src/Home/Home.js":"7","/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/index.js":"8","/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/GuestHome.js":"9","/Users/gautamjethwani/Documents/songq-ui/src/util.js":"10"},{"size":362,"mtime":1609565627382,"results":"11","hashOfConfig":"12"},{"size":839,"mtime":1610352551115,"results":"13","hashOfConfig":"12"},{"size":500,"mtime":1609565627382,"results":"14","hashOfConfig":"12"},{"size":48,"mtime":1609566008982,"results":"15","hashOfConfig":"12"},{"size":593,"mtime":1609650066022,"results":"16","hashOfConfig":"12"},{"size":45,"mtime":1609568096052,"results":"17","hashOfConfig":"12"},{"size":14864,"mtime":1610356671512,"results":"18","hashOfConfig":"12"},{"size":60,"mtime":1609615551780,"results":"19","hashOfConfig":"12"},{"size":5192,"mtime":1609990648812,"results":"20","hashOfConfig":"12"},{"size":381,"mtime":1609824792576,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"a60gbr",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/gautamjethwani/Documents/songq-ui/src/reportWebVitals.js",[],["44","45"],"/Users/gautamjethwani/Documents/songq-ui/src/App.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Login/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Login/Login.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Home/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/Home/Home.js",["46","47"],"/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/index.js",[],"/Users/gautamjethwani/Documents/songq-ui/src/GuestHome/GuestHome.js",["48"],"import { PageHeader, Card, Button, notification } from 'antd'\nimport Input from 'muicss/lib/react/input'\nimport { header, trackContainer, track, cardExtras, searchBox, inactive } from './GuestHome.module.css'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport { CheckCircleTwoTone } from '@ant-design/icons'\nimport { getURL } from '../util'\nimport 'antd/dist/antd.css'\nimport 'muicss/dist/css/mui.min.css'\n\nconst joinArtists = artistsRaw => {\n    let result = ''\n    for (let i = 0; i < artistsRaw.length; i++) {\n        result += artistsRaw[i].name\n        if (i < artistsRaw.length - 1) {\n            result += ', '\n        }\n    }\n    return result\n}\n\nconst GuestHome = () => {\n    const [tracks, setTracks] = useState([])\n    const [userName, setUserName]  = useState('')\n    const [queueActivated, setQueueActivated] = useState(false)\n    const [requested, setRequested] = useState([])\n    const { userId } = useParams()\n    const albumArtIndex = 0\n    useEffect(() => {\n        axios.post(`${getURL()}/is-queue-active`, { userId  }, { withCredentials: true })\n            .then(response => {\n                const { queueActivated } = response.data\n                setQueueActivated(queueActivated)\n            })\n            .catch(err => {\n                notification['error']({\n                    message: 'Server Error',\n                    description: 'Cannot connect to server'\n                })\n                console.log(err)\n            })\n        axios.post(`${getURL()}/guest-login`, {}, { withCredentials: true })\n            .catch(err => {\n                notification['error']({\n                    message: 'Server Error',\n                    description: 'Cannot connect to Spotify'\n                })\n                console.log(err)\n            })\n        axios.get(`${getURL()}/get-user-name?userId=${userId}`)\n            .then(response => {\n                const { name } = response.data\n                if (name) {\n                    setUserName(name)\n                }\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }, [])\n    const onSearchChanged = query => {\n        axios.post(`${getURL()}/search-songs`, { q: query}, { withCredentials: true })\n            .then(response => {\n                const { items } = response.data.results.tracks\n                setTracks(items)\n            })\n            .catch(err => {\n                notification['error']({\n                    message: 'Could Not Search',\n                    description: 'Error searching for tracks'\n                })\n                console.log(err)\n            })\n    }\n    const makeRequest = track => {\n        axios.post(`${getURL()}/make-request`, {\n            userId,\n            songId: track.id,\n            songName: track.name,\n            artists: joinArtists(track.artists),\n            album: track.album.name,\n            albumArt: track.album.images[albumArtIndex].url\n        }, {\n            withCredentials: true\n        })\n        .then(() => {\n            requested.push(track.id)\n            setRequested([...requested])\n        })\n        .catch(err => {\n            notification['error']({\n                message: 'Could not make request',\n                description: 'Error making request'\n            })\n            console.log(err)\n        })\n    }\n    return (\n        <div>\n            <PageHeader\n                title={userName !== '' ? `Welcome to ${userName}'s queue!` : `Welcome to the queue!`}\n                className={header}\n            />\n            {!queueActivated && <h3 className={inactive}>Queue is not active</h3>}\n            {queueActivated && \n            <div>\n                <Input\n                    label='Search for songs'\n                    onChange={e => onSearchChanged(e.target.value)}\n                    className={searchBox}\n                    floatingLabel\n                />\n                <div className={trackContainer}>\n                    {\n                        tracks.map(t => \n                            <Card \n                                hoverable\n                                className={track}\n                                key={t.id}\n                                actions={\n                                    requested.includes(t.id) ? \n                                        [<CheckCircleTwoTone className={cardExtras} twoToneColor=\"#52c41a\"/>] :\n                                        [<Button className={cardExtras} style={{ marginBottom: '1rem', marginTop: '1rem'}} onClick={() => makeRequest(t)}>Request</Button>]\n                                }\n                                cover={<img alt=\"albumArt\" src={t.album.images[albumArtIndex].url} />}\n                            >\n                                <Card.Meta \n                                    title={t.name}\n                                    description={joinArtists(t.artists)}\n                                />\n                            </Card>\n                        )\n                    }\n                </div>\n            </div>}\n        </div>\n    )\n}\n\n\n\nexport default GuestHome","/Users/gautamjethwani/Documents/songq-ui/src/util.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":86,"column":8,"nodeType":"55","endLine":86,"endColumn":17,"suggestions":"56"},{"ruleId":"53","severity":1,"message":"57","line":110,"column":8,"nodeType":"55","endLine":110,"endColumn":10,"suggestions":"58"},{"ruleId":"53","severity":1,"message":"59","line":61,"column":8,"nodeType":"55","endLine":61,"endColumn":10,"suggestions":"60"},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'sortBy'. Either include it or remove the dependency array.","ArrayExpression",["63"],"React Hook useEffect has a missing dependency: 'getSortComparator'. Either include it or remove the dependency array.",["64"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["65"],"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},{"desc":"68","fix":"69"},{"desc":"70","fix":"71"},"Update the dependencies array to be: [sortBy, sortKey]",{"range":"72","text":"73"},"Update the dependencies array to be: [getSortComparator]",{"range":"74","text":"75"},"Update the dependencies array to be: [userId]",{"range":"76","text":"77"},[2732,2741],"[sortBy, sortKey]",[4017,4019],"[getSortComparator]",[2174,2176],"[userId]"]